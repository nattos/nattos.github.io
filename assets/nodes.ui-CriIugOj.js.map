{"version":3,"file":"nodes.ui-CriIugOj.js","sources":["../../src/customnodes/debug/nodes.ui.ts"],"sourcesContent":["import { html } from 'lit';\nimport { GridNode } from '../../builder/state';\nimport { GraphNodeRenderHandlers } from '../../structor/repository';\nimport { runtimeManager } from '../../builder/controllers';\n\nexport const DebugScopeInputEditor = (node: GridNode, portName: string, handlers: GraphNodeRenderHandlers) => {\n  // Get input value from runtimeManager\n  const inputs = runtimeManager.inputs.get(node.id);\n  let value = 0;\n  if (inputs) {\n    if (inputs.fields && inputs.fields[portName] !== undefined) {\n      value = inputs.fields[portName];\n    } else if (inputs.untagged && inputs.untagged.length > 0) {\n      value = inputs.untagged[0];\n    }\n  }\n\n  // We need to pass the value to the graph-widget.\n  // The graph-widget likely expects a stream of values or a single value to append?\n  // Let's check graph-widget implementation.\n  // Assuming it takes a .value property and handles history internally, or we pass history.\n  // Actually, `graph-widget` usually takes `data` array.\n  // But here we are in a render loop.\n  // If we pass `value`, the widget needs to append it.\n  // Or we manage history here?\n  // Managing history in the renderer function is tricky because it's stateless.\n  // The `graph-widget` should probably handle it or we need a stateful component.\n  // But `renderInputEditor` returns a TemplateResult.\n  // We can use a custom element that manages state.\n  // Let's use `graph-widget` and assume it can handle real-time updates if we pass `value`.\n  // If `graph-widget` expects a full array, we might need to accumulate it in `RuntimeManager` or `GraphNode`.\n  // But `debug.scope` is a node. It could have state.\n  // But the UI is separate.\n  // Let's look at `graph-widget` first.\n\n  return html`\n    <graph-widget\n      .config=${{ mode: 'scope', autoRange: true, showGrid: true, historySize: 100 }}\n      .value=${value}\n      .tick=${runtimeManager.frame}\n    ></graph-widget>\n  `;\n};\n"],"names":["DebugScopeInputEditor","node","portName","handlers","inputs","runtimeManager","value","html"],"mappings":"+CAKO,MAAMA,EAAwB,CAACC,EAAgBC,EAAkBC,IAAsC,CAE5G,MAAMC,EAASC,EAAe,OAAO,IAAIJ,EAAK,EAAE,EAChD,IAAIK,EAAQ,EACZ,OAAIF,IACEA,EAAO,QAAUA,EAAO,OAAOF,CAAQ,IAAM,OAC/CI,EAAQF,EAAO,OAAOF,CAAQ,EACrBE,EAAO,UAAYA,EAAO,SAAS,OAAS,IACrDE,EAAQF,EAAO,SAAS,CAAC,IAsBtBG;AAAAA;AAAAA,gBAEO,CAAE,KAAM,QAAS,UAAW,GAAM,SAAU,GAAM,YAAa,GAAA,CAAK;AAAA,eACrED,CAAK;AAAA,cACND,EAAe,KAAK;AAAA;AAAA,GAGlC"}